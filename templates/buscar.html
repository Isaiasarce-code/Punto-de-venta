<!doctype html>
<html>
<head>
    <title>Buscar producto</title>
</head>
<body>
    <h2>Buscar producto</h2>

    <form method="post">
        <label>C贸digo de barras:</label>
        <input type="text" name="codigo">
        <br>
        <label>Descripci贸n del producto:</label>
        <input type="text" name="descripcion">
        <br>
        <button type="submit">Buscar</button>
    </form>

    {% if error %}
        <p style="color:red">{{ error }}</p>
    {% endif %}

    {% if productos is not none and not productos.empty %}
        <h3>Resultados:</h3>
        <table border="1">
            <tr>
                <th>C贸digo</th>
                <th>Descripci贸n</th>
                <th>Precio</th>
                <th>En stock</th>
                <th>Cantidad</th>
                <th>Vender</th>
            </tr>
            {% for _, prod in productos.iterrows() %}
            <tr>
                <form action="/vender" method="post">
                    <td>{{ prod['codigo'] }}</td>
                    <td>{{ prod['descripcion'] }}</td>
                    <td>{{ prod['precio'] }}</td>
                    <td>{{ prod['cantidad'] }}</td>
                    <td>
                        <input type="hidden" name="codigo" value="{{ prod['codigo'] }}">
                        <input type="number" name="cantidad" min="1" max="{{ prod['cantidad'] }}" required>
                    </td>
                    <td><button type="submit">Vender</button></td>
                </form>
            </tr>
            {% endfor %}
        </table>
    {% endif %}
</body>
</html>

